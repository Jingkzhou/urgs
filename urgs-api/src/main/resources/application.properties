spring.application.name=urgs-api

# DataSource: explicitly use HikariCP (Spring Boot default and recommended).
spring.datasource.type=com.zaxxer.hikari.HikariDataSource

mybatis-plus.mapper-locations=classpath:mapper/*.xml

# File Upload Limits
spring.servlet.multipart.max-file-size=10GB
spring.servlet.multipart.max-request-size=10GB

# Quartz Configuration
spring.quartz.job-store-type=jdbc
spring.quartz.jdbc.initialize-schema=always
spring.quartz.properties.org.quartz.scheduler.instanceName=UrgsScheduler
spring.quartz.properties.org.quartz.scheduler.instanceId=AUTO

spring.quartz.properties.org.quartz.jobStore.tablePrefix=QRTZ_
spring.quartz.properties.org.quartz.jobStore.isClustered=true
spring.quartz.properties.org.quartz.jobStore.clusterCheckinInterval=10000
spring.quartz.properties.org.quartz.jobStore.useProperties=false
spring.quartz.properties.org.quartz.threadPool.class=org.quartz.simpl.SimpleThreadPool
spring.quartz.properties.org.quartz.threadPool.threadCount=120
spring.quartz.properties.org.quartz.threadPool.threadPriority=5
spring.quartz.properties.org.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread=true
spring.quartz.scheduler.batchTriggerAcquisitionMaxCount=50

# HikariCP Tuning for High Concurrency
spring.datasource.hikari.maximum-pool-size=150
spring.datasource.hikari.minimum-idle=20


# Flyway Configuration
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.baseline-version=1
spring.flyway.out-of-order=true
spring.flyway.ignore-missing-migrations=true

# Lineage Engine Configuration
lineage.engine.workdir=/app
lineage.engine.script=./bridge.sh
lineage.engine.args=parse-sql --file ./tests/sql --output neo4j
lineage.engine.log-file=/app/logs/lineage-engine.log
lineage.engine.stop-timeout-seconds=10
