spring.application.name=urgs-api
# Active profile is injected at build time; defaults to dev when no profile is selected.
spring.profiles.active=@activeProfile@
# Load all config files under the selected profile directory.
spring.config.import=optional:classpath:/config/@activeProfile@/

# DataSource: explicitly use HikariCP (Spring Boot default and recommended).
spring.datasource.type=com.zaxxer.hikari.HikariDataSource

mybatis-plus.mapper-locations=classpath:mapper/*.xml

# File Upload Limits
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# --- Dual DataSource Configuration Snippet (For SQL Console Isolation) ---
# Primary DataSource (Main Transaction Manager)
# spring.datasource.primary.url=jdbc:mysql://localhost:3306/urgs_db
# spring.datasource.primary.username=root
# spring.datasource.primary.password=root

# Secondary DataSource (Read-Only for SQL Console)
# spring.datasource.readonly.url=jdbc:mysql://localhost:3306/urgs_db
# spring.datasource.readonly.username=readonly_user
# spring.datasource.readonly.password=readonly_pass
# spring.datasource.readonly.driver-class-name=com.mysql.cj.jdbc.Driver

# Note: To fully implement this, you need to create a DataSourceConfig class
# that defines two DataSource beans (@Primary and @Qualifier("readonlyDataSource"))
# and inject the @Qualifier("readonlyDataSource") into the JdbcTemplate used by SqlConsoleService.
# Quartz Configuration
spring.quartz.job-store-type=jdbc
spring.quartz.jdbc.initialize-schema=always
spring.quartz.properties.org.quartz.scheduler.instanceName=UrgsScheduler
spring.quartz.properties.org.quartz.scheduler.instanceId=AUTO

spring.quartz.properties.org.quartz.jobStore.tablePrefix=QRTZ_
spring.quartz.properties.org.quartz.jobStore.isClustered=true
spring.quartz.properties.org.quartz.jobStore.clusterCheckinInterval=10000
spring.quartz.properties.org.quartz.jobStore.useProperties=false
spring.quartz.properties.org.quartz.threadPool.class=org.quartz.simpl.SimpleThreadPool
spring.quartz.properties.org.quartz.threadPool.threadCount=120
spring.quartz.properties.org.quartz.threadPool.threadPriority=5
spring.quartz.properties.org.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread=true
spring.quartz.scheduler.batchTriggerAcquisitionMaxCount=50

# HikariCP Tuning for High Concurrency
spring.datasource.hikari.maximum-pool-size=150
spring.datasource.hikari.minimum-idle=20

# Neo4j Configuration
spring.neo4j.uri=bolt://localhost:7687
spring.neo4j.authentication.username=neo4j
spring.neo4j.authentication.password=12345678
